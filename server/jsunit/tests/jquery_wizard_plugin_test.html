<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- *************************GO-LICENSE-START******************************
 * Copyright 2014 ThoughtWorks, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *************************GO-LICENSE-END******************************* -->


<html>
<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>jQuery Wizard Plugin Test</title>
		<link rel="stylesheet" type="text/css" href="../css/jsUnitStyle.css">
		<script language="JavaScript" type="text/javascript" src="../app/jsUnitCore.js"></script>
    <script language="JavaScript" type="text/javascript" src="../app/jsTestHelper.js"></script>
		<script language="JavaScript" type="text/javascript" src="../compressed/all.js"></script>
        <script language="JavaScript" type="text/javascript" src="../compressed/test_helper.js"></script>
		<script type="text/javascript" src="../app/after_load_enhancements.js"></script>
</head>
<body>

<div class="wizard tabs" id="getting-started-01">
    <ul class="navigation">
        <li><a href="#step1">Step 1</a></li>
        <li><a href="#step2">Step 2</a></li>
        <li><a href="#step3">Step 3</a></li>
    </ul>

    <div class="steps">
        <div id="step1">
            <div class="content">1. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
            <div class="footer">
                <button class="prev go-btn"><span>Prev</span></button>
                <button class="next go-btn primary"><span>Next</span></button>
            </div>
        </div>

        <div id="step2">
            <div class="content">2. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
            <div class="footer">
                <button class="prev go-btn"><span>Prev</span></button>
                <button class="next go-btn primary"><span>Next</span></button>
            </div>
        </div>

        <div id="step3">
            <div class="content">3. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
            <div class="footer">
                <button class="prev go-btn"><span>Prev</span></button>
                <button class="next go-btn primary"><span>Schedule pipeline to run</span></button>
            </div>
        </div>
    </div>

</div>

<div class="wizard tabs" id="getting-started-02">
    <ul class="navigation">
        <li><a href="#step4">Step 4</a></li>
        <li><a href="#step5">Step 5</a></li>
        <li><a href="#step6">Step 6</a></li>
    </ul>

    <div class="steps">
        <div id="step4">
            <div class="content">4. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
            <div class="footer">
                <button class="prev go-btn"><span>Prev</span></button>
                <button class="next go-btn primary"><span>Next</span></button>
            </div>
        </div>

        <div id="step5">
            <div class="content">5. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
            <div class="footer">
                <button class="prev go-btn"><span>Prev</span></button>
                <button class="next go-btn primary"><span>Next</span></button>
            </div>
        </div>

        <div id="step6">
            <div class="content">6. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
            <div class="footer">
                <button class="prev go-btn"><span>Prev</span></button>
                <button class="next go-btn primary"><span>Schedule pipeline to run</span></button>
            </div>
        </div>
    </div>

</div>

<div class="wizard" id="not-a-wizard">
	<ul class="navigation">
		<li><a href="#step7">Step 7</a></li>
		<li><a href="#step8">Step 8</a></li>
		<li><a href="#step9">Step 9</a></li>
	</ul>
	<div class="content">
		<div class="steps">
			<div id="step7">7. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
			<div id="step8">8. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
			<div id="step9">9. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium, vitae, est, impedit, quae repudiandae porro facilis excepturi facere quo consequatur error illum magni autem necessitatibus omnis cupiditate fugit eveniet molestias.</div>
		</div>
		<div class="actions">
			<button class="prev go-btn"><span>Prev</span></button>
			<button class="next go-btn primary"><span> </span></button>
		</div>
	</div>
</div>

</body>

<!-- Tests -->

<script>

	function test_wizard_should_label_firststep_current() {
		jQuery('#getting-started-01 .steps > div').wizard();
		assertEquals('getting-started-01 does not have first step as current', true, jQuery('#getting-started-01 #step1').hasClass('current'));
		assertEquals('getting-started-02 has first step as current', false, jQuery('#getting-started-02 #step4').hasClass('current'));
		assertEquals('not-a-wizard does has first step as current', false, jQuery('#not-a-wizard #step7').hasClass('current'));
	}

	function test_wizard_should_add_previous_next_actions() {
		jQuery('#getting-started-02 .steps > div').wizard();

        jQuery('#getting-started-02 #step4 .next').click();
		assertEquals('getting-started-02 does not have second step as current', false, jQuery('#getting-started-02 #step4').hasClass('current'));
		assertEquals('getting-started-02 does not have second step as current', true, jQuery('#getting-started-02 #step5').hasClass('current'));
		assertEquals('getting-started-02 does not have second step as current', false, jQuery('#getting-started-02 #step6').hasClass('current'));

        jQuery('#getting-started-02 #step5 .next').click();
		assertEquals('getting-started-02 does not have third step as current', false, jQuery('#getting-started-02 #step4').hasClass('current'));
		assertEquals('getting-started-02 does not have third step as current', false, jQuery('#getting-started-02 #step5').hasClass('current'));
		assertEquals('getting-started-02 does not have third step as current', true, jQuery('#getting-started-02 #step6').hasClass('current'));

        jQuery('#getting-started-02 #step6 .next').click();
		assertEquals('getting-started-02 tries to proceed even after the last step', false, jQuery('#getting-started-02 #step4').hasClass('current'));
		assertEquals('getting-started-02 tries to proceed even after the last step', false, jQuery('#getting-started-02 #step5').hasClass('current'));
		assertEquals('getting-started-02 tries to proceed even after the last step', true, jQuery('#getting-started-02 #step6').hasClass('current'));

        jQuery('#getting-started-02 #step6 .prev').click();
		assertEquals('getting-started-02 does not have second step as current', false, jQuery('#getting-started-02 #step4').hasClass('current'));
		assertEquals('getting-started-02 does not have second step as current', true, jQuery('#getting-started-02 #step5').hasClass('current'));
		assertEquals('getting-started-02 does not have second step as current', false, jQuery('#getting-started-02 #step6').hasClass('current'));

        jQuery('#getting-started-02 #step5 .prev').click();
		assertEquals('getting-started-02 does not have first step as current', true, jQuery('#getting-started-02 #step4').hasClass('current'));
		assertEquals('getting-started-02 does not have first step as current', false, jQuery('#getting-started-02 #step5').hasClass('current'));
		assertEquals('getting-started-02 does not have first step as current', false, jQuery('#getting-started-02 #step6').hasClass('current'));
	}

	function test_wizard_should_add_events_to_navigation_element() {
		//TODO
	}

	function test_wizard_should_reset_event_handlers_when_initialized_again() {
		//TODO:
	}

	function test_wizard_should_affect_only_elements_in_scope() {
		//TODO:
	}
</script>

</html>